
针对 http://www.cnblogs.com/daoqidelv/p/7533067.html 的讨论

![post_mode](/static/img/post_model.png)

来自 Enode QQ 群:

```
上海-1976  08:26:08
他是把发帖行为放在了用户实体里
上海-1976  08:26:14
为何
杭州-汤雪华  08:27:34
你觉得这里不妥是吗？
杭州-汤雪华  08:31:27
他这样做你觉得哪里不妥
上海-1976  08:31:39
应用层直接可以调用
上海-1976  08:32:06
不用写业务逻辑相关的
杭州-汤雪华  08:33:08
那建模是面向用例的吗
上海-1976  08:33:19
不是
上海-1976  08:34:07
但是也要有业务入口
杭州-汤雪华  08:34:08
用例的作用是什么
上海-1976  08:34:46
用户角度使用系统
杭州-汤雪华  08:34:52
恩
杭州-汤雪华  08:35:58
如果像他这个思路，是不是还会有replyAuthor，topicAuthor之类的。表示回复作者，主题作者
上海-1976  08:36:01
判断帖子长度不应该在用户实体里
杭州-汤雪华  08:36:36
恩，他这条业务规则也完全可以在帖子构造函数里
济南-肖坤  08:38:37
Post的业务规则应该在Post里面吧
济南-肖坤  08:39:19
他这样分析，作者确实就太多了
杭州-汤雪华  08:39:31
根本上他犯了一个错误，就是把人和系统的交互也设计进领域模型里了。这样看起来很符合主谓宾结构，实际上让模型搞的更复杂了

成都-句幽  08:40:29
那 发帖 应该抽象个领域服务出来负责 帖子和作者的交互吗？
上海 - Ivan  08:41:35
其实作者作为帖子的创建工厂是可以的，但名字不应该用posting，用createpost就好很多了
杭州-汤雪华  08:42:36
如果发帖时的业务规则帖子自己就能搞定，那不需要领域服务，如果还要支持关键字过滤，那需要引入领域服务，CreatePostService的领域服务
杭州-汤雪华  08:43:19
@上海 - Ivan 对，创建帖子可以，但是posting就不行
成都-句幽  08:43:37
嗯
杭州-汤雪华  08:44:57
不对，他是PostAuthor去posting的，所以也没问题。主要问题是不应该有PostAuthor这个东西
上海 - Ivan  08:46:09
他还是想成了要模拟人去发帖，改成postservice就好了
杭州-汤雪华  08:46:11
人做什么，他一直是这个思维
杭州-汤雪华  08:47:10
如果哪一天我的帖子不是登录用户发的，而是API调用过来的，那也是人吗
杭州-汤雪华  08:48:27
他没有意识到，帖子作者的主从关系。帖子是主体，帖子有一个作者。作者是帖子我们所关心的一个信息而已。
上海 - Ivan  08:50:09
以人为中心设计系统，不利于职责归属划分
上海 - Ivan  08:50:28
应该尽量避免
杭州-汤雪华  08:50:36
如果哪天，系统可以匿名发表帖子了，我不知道他要怎样设计[表情]
杭州-汤雪华  08:51:29
按照他这样的思路，就没法搞了
上海 - Ivan  08:52:21
我主要考虑的是职责划分问题
杭州-汤雪华  08:54:11
人使用系统，系统为人提供发帖的应用服务，发帖应用服务里创建帖子，帖子负责保证业务规则。
杭州-汤雪华  08:54:34
作者是帖子的一个属性
杭州-汤雪华  08:56:32
系统是一个边界，用来和人对应，人和系统交互
杭州-汤雪华  08:56:53
系统内部使用领域模型完成用户需求
杭州-汤雪华  08:57:43
领域模型容纳用户需求，抓住领域本质。
杭州-汤雪华  08:58:36
把杯子倒空才能装满水，这个我以前就讲过的
杭州-汤雪华  09:00:58
我们这些讨论如果到博客园和他讨论，应该会给他带来很多思考和冲击
杭州-汤雪华  09:01:44
当时我和蟋蟀就是这样讨论的，当时蟋蟀和他的思维很像

上海 - Ivan  09:16:49
我们主要考虑职责归属问题
上海 - Ivan  09:17:02
多问问自己,谁该为这个业务规则负责
上海 - Ivan  09:17:56
ddd大到bc的划分, 小到聚合,实体,值对象的划分,都能更好地识别出业务规则归属问题
上海 - Ivan  09:19:45
如果ooa,ood做得好,其实不谈ddd也罢
杭州-汤雪华  09:20:38
对
杭州-汤雪华  09:21:07
归根结底还是职责划分
杭州-汤雪华  09:25:16
功能划分简单
杭州-汤雪华  09:26:23
是个人都知道论坛有发帖回贴的功能，但是很多人不知道怎么设计模型
```
